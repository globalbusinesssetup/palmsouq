/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[115,31],{467:function(t,e,r){t.exports=function(){"use strict";var g="undefined"!=typeof document&&document.documentMode,t={rootMargin:"0px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var e=t.querySelector("img"),r=!1;null===e&&(e=document.createElement("img"),r=!0),g&&t.getAttribute("data-iesrc")&&(e.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(e.alt=t.getAttribute("data-alt")),r&&t.append(e)}if("video"===t.nodeName.toLowerCase()&&!t.getAttribute("data-src")&&t.children){for(var a=t.children,n=void 0,i=0;i<=a.length-1;i++)(n=a[i].getAttribute("data-src"))&&(a[i].src=n);t.load()}t.getAttribute("data-poster")&&(t.poster=t.getAttribute("data-poster")),t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset"));var o=",";if(t.getAttribute("data-background-delimiter")&&(o=t.getAttribute("data-background-delimiter")),t.getAttribute("data-background-image"))t.style.backgroundImage="url('"+t.getAttribute("data-background-image").split(o).join("'),url('")+"')";else if(t.getAttribute("data-background-image-set")){var l=t.getAttribute("data-background-image-set").split(o),u=l[0].substr(0,l[0].indexOf(" "))||l[0];u=-1===u.indexOf("url(")?"url("+u+")":u,1===l.length?t.style.backgroundImage=u:t.setAttribute("style",(t.getAttribute("style")||"")+"background-image: "+u+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))},loaded:function(){}};function e(t){t.setAttribute("data-loaded",!0)}var r=function(t){return"true"===t.getAttribute("data-loaded")},n=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var o,a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=Object.assign({},t,d),i=c.root,m=c.rootMargin,v=c.threshold,u=c.load,g=c.loaded,s=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(s=new IntersectionObserver((o=u,a=g,function(t,n){t.forEach((function(t){(0<t.intersectionRatio||t.isIntersecting)&&(n.unobserve(t.target),r(t.target)||(o(t.target),e(t.target),a(t.target)))}))}),{root:i,rootMargin:m,threshold:v}));for(var f,h=n(l,i),b=0;b<h.length;b++)(f=h[b]).getAttribute("data-placeholder-background")&&(f.style.background=f.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=n(l,i),o=0;o<t.length;o++)r(t[o])||(s?s.observe(t[o]):(u(t[o]),e(t[o]),g(t[o])))},triggerLoad:function(t){r(t)||(u(t),e(t),g(t))},observer:s}}}()},911:function(t,e,r){"use strict";r.r(e);r(37),r(44),r(18),r(21),r(23),r(24),r(7),r(13);var n=r(1),o=r(4),l=(r(45),r(16),r(53),r(22),r(86)),d=r(49),c=r(480),m=r(158),v=r(476),f=r(465),h=r(10);function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var x={name:"configuration",middleware:["common-middleware","auth"],data:function(){return{validLicence:!1,deletingData:!1,updatingData:!1,gettingData:!1,fileUploading:!1,gate:"pos_setting",result:{id:"",width:"",image:"",address:"",footer_text:"",header_text:"",is_default:!1}}},mixins:[l.a],components:{ErrorFormatter:f.default,FileUpload:v.default,AjaxButton:m.default,DataPage:c.default,Spinner:d.default},computed:w({},Object(h.c)("admin",["posPublicKey"])),methods:w({updateSetting:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.updatingData=!0,e.prev=1,e.next=4,t.setRequest({params:t.result,api:"setPosSetting"});case 4:(data=e.sent)&&201!==(null==data?void 0:data.status)&&t.reloadPage(),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",t.$nuxt.error(e.t0));case 11:t.updatingData=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},uploadFile:function(t){var e=arguments,r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,l,d,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.length>1&&void 0!==e[1]?e[1]:null,r.fileUploading=!0,l={},t?((d=new FormData).append("photo",t),l=d):l.photo=o,n.prev=4,n.next=7,r.setRequest({params:l,api:"setPosSettingImage"});case 7:(data=n.sent)&&201!==(null==data?void 0:data.status)&&r.reloadPage(),n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(4),n.abrupt("return",r.$nuxt.error(n.t0));case 14:r.fileUploading=!1;case 15:case"end":return n.stop()}}),n,null,[[4,11]])})))()},deleteItem:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(t.$t("admin.dltMsg"))){e.next=12;break}return e.prev=1,t.deletingData=!0,e.next=5,t.deleteData({params:"",api:"deletePosSetting"});case 5:t.deletingData=!1,t.reloadPage(),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",t.$nuxt.error(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}},Object(h.b)("common",["setRequest","getRequest","deleteData"])),mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,l,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.location.hostname,t.posPublicKey?(n=t.phpDecryption(t.posPublicKey),o=JSON.parse(n),l=!(null!=o&&o.p)||(null==o?void 0:o.p)&&"pos-ishop"===(null==o?void 0:o.p),(r.includes("admin.ishop.cholobangla.com")||r.includes("localhost")||r.includes("127.0.0.1")||n.includes(r)&&l)&&(t.validLicence=!0)):(r.includes("admin.ishop.cholobangla.com")||r.includes("localhost")||r.includes("127.0.0.1"))&&(t.validLicence=!0),t.gettingData=!0,e.prev=3,e.next=6,t.getRequest({params:{},api:"getPosSetting"});case 6:(data=e.sent)&&(t.result=data),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",t.$nuxt.error(e.t0));case 13:t.gettingData=!1;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()}},y=x,A=r(15),component=Object(A.a)(y,(function(){var t=this,e=t._self._c;return t.validLicence?e("div",{staticClass:"tab-sidebar"},[e("h4",{staticClass:"title"},[t._v(t._s(t.$t("ship.ps")))]),t._v(" "),e("div",{staticClass:"form-wrapper"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.updateSetting.apply(null,arguments)}}},[e("error-formatter"),t._v(" "),e("error-formatter",{attrs:{type:"image"}}),t._v(" "),t.gettingData?e("div",{staticClass:"spinner-wrapper"},[e("spinner",{staticClass:"mr-15",attrs:{radius:60,color:"primary"}})],1):t._e(),t._v(" "),t.gettingData?t._e():e("div",{staticClass:"input-wrapper b-b pb-15"},[e("label",{staticClass:"mb-15"},[t._v("\n          "+t._s(t.$t("setting.sLogo"))+"\n        ")]),t._v(" "),!t.gate||t.gate&&t.$can(t.gate,"edit")?e("div",{},[e("file-upload",{staticClass:"logo-upload upload-block",attrs:{image:t.result.image,"file-uploading":t.fileUploading,"btn-text":t.$t("setting.cLogo")},on:{"file-upload":t.uploadFile}})],1):e("img",{attrs:{src:t.getImageURL(t.result.image)}})]),t._v(" "),e("div",[e("div",{staticClass:"input-wrapper"},[e("label",[t._v(t._s(t.$t("ship.wdt")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.result.width,expression:"result.width"}],attrs:{type:"text",placeholder:t.$t("ship.wdt")},domProps:{value:t.result.width},on:{input:function(e){e.target.composing||t.$set(t.result,"width",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-wrapper"},[e("label",[t._v(t._s(t.$t("list.addr")))]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.result.address,expression:"result.address"}],attrs:{placeholder:t.$t("list.addr")},domProps:{value:t.result.address},on:{input:function(e){e.target.composing||t.$set(t.result,"address",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-wrapper"},[e("label",[t._v(t._s(t.$t("ship.ht")))]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.result.header_text,expression:"result.header_text"}],attrs:{placeholder:t.$t("ship.ht")},domProps:{value:t.result.header_text},on:{input:function(e){e.target.composing||t.$set(t.result,"header_text",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-wrapper"},[e("label",[t._v(t._s(t.$t("ship.ft")))]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.result.footer_text,expression:"result.footer_text"}],attrs:{placeholder:t.$t("ship.ft")},domProps:{value:t.result.footer_text},on:{input:function(e){e.target.composing||t.$set(t.result,"footer_text",e.target.value)}}})]),t._v(" "),t.$store.state.admin.isSuperAdmin?e("label",{staticClass:"input-wrapper block"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.result.is_default,expression:"result.is_default"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.result.is_default)?t._i(t.result.is_default,null)>-1:t.result.is_default},on:{change:function(e){var r=t.result.is_default,n=e.target,o=!!n.checked;if(Array.isArray(r)){var l=t._i(r,null);n.checked?l<0&&t.$set(t.result,"is_default",r.concat([null])):l>-1&&t.$set(t.result,"is_default",r.slice(0,l).concat(r.slice(l+1)))}else t.$set(t.result,"is_default",o)}}}),t._v("\n          "+t._s(t.$t("ship.md"))+"\n        ")]):t._e()]),t._v(" "),e("div",{staticClass:"dply-felx j-right"},[!t.gate||t.gate&&t.$can(t.gate,"delete")?e("ajax-button",{staticClass:"delete-btn",attrs:{type:"button",text:t.$t("category.delete"),"fetching-data":t.deletingData},on:{clicked:t.deleteItem}}):t._e(),t._v(" "),!t.gate||t.gate&&t.$can(t.gate,"edit")?e("ajax-button",{staticClass:"primary-btn",attrs:{text:t.$t("setting.sv"),"fetching-data":t.updatingData}}):t._e()],1)],1)])]):t._e()}),[],!1,null,"24603431",null);e.default=component.exports;installComponents(component,{ErrorFormatter:r(465).default,Spinner:r(49).default,FileUpload:r(476).default,AjaxButton:r(158).default})}}]);
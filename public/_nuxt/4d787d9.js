(window.webpackJsonp=window.webpackJsonp||[]).push([[118,45],{507:function(t,e,r){var content=r(683);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(63).default)("9b9e03e4",content,!0,{sourceMap:!1})},682:function(t,e,r){"use strict";r(507)},683:function(t,e,r){var n=r(62)((function(i){return i[1]}));n.push([t.i,".pagination{background:#fff;border:1px solid #eee;border-radius:5px;display:flex;margin-top:15px}.pagination li{align-items:center;border-right:1px solid #eee;cursor:pointer;display:flex;flex-grow:1;height:40px;justify-content:center;min-width:45px;transition:all .1s;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pagination li:hover{background:#e8f0fe}.pagination li:last-child{border-right:0}.pagination li .icon{height:18px;min-width:18px;opacity:.6;width:18px}.pagination .disabled{cursor:not-allowed;opacity:.8}.pagination .disabled:hover{background:#fff}.pagination .page.disabled{background:#4285f4;color:#fff;font-weight:700;opacity:1}",""]),n.locals={},t.exports=n},694:function(t,e,r){"use strict";r(18),r(21),r(23),r(24),r(16),r(7),r(13);var n=r(4);r(197);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.a={data:function(){return{listParams:{type:"desc",orderby:"created_at",page:1,q:null}}},methods:{settingRouteParam:function(){this.listParams=c(c({},this.listParams),{type:this.$route.query.orderbyType||"desc",orderby:this.$route.query.orderby||"created_at",page:Number(this.$route.query.page)||1,q:this.$route.query.q||null})}}}},698:function(t,e,r){"use strict";r.r(e);r(44),r(18),r(21),r(23),r(24),r(16),r(7),r(13);var n=r(4);r(197),r(28),r(160);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l={name:"Pagination",data:function(){return{sortByType:this.$route.query.orderByType||"desc",sortBy:this.$route.query.orderBy||"created_at",currentPage:Number(this.$route.query.page)||this.page,search:this.$route.query.q||null}},props:{changingRoute:{type:Boolean,default:!0},page:{type:Number,default:1},totalPage:{type:Number},pagePer:{type:Number,default:5}},watch:{},directives:{},components:{},mixins:[],computed:{getActivePages:function(){var t=this.getPage+(this.pagePer-1);t%this.pagePer!=0&&(t=parseInt(t/this.pagePer)*this.pagePer);var e=t-(this.pagePer-1);return t>=this.totalPage&&(t=this.totalPage),[e-1,t]},getPage:function(){return this.currentPage},allPages:function(){for(var t=[],i=1;i<=this.totalPage;i++)t.push(i);return t}},methods:{routeParam:function(){this.isDefaultPage()?this.resettingRoute():(this.clearQuery(),this.$emit("fetching-data")),this.scrollToTop()},resettingRoute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.clearQuery(),this.$router.push({query:c(c({},t),{orderBy:this.orderBy,orderByType:this.orderByType,page:this.currentPage,q:this.search})}),this.$emit("fetching-data")},clearQuery:function(){this.orderByType="desc",this.orderBy="created_at",this.currentPage=1},isDefaultPage:function(){return"desc"===this.orderByType&&"created_at"===this.orderBy&&1===this.currentPage},settingRoute:function(){this.$router.push({query:c(c({},this.$route.query),{orderBy:this.orderBy,orderByType:this.orderByType,page:this.currentPage,q:this.search})})},dropdownSelected:function(t,data){this.currentPage=1,t?this.orderByType=data.key:this.orderBy=data.key,this.getDataWithRoute()},scrollToTop:function(){window.scrollTo(0,0)},getDataFromRoute:function(){this.sortByType=this.$route.query.orderByType||"desc",this.sortBy=this.$route.query.orderBy||"created_at",this.currentPage=Number(this.$route.query.page)||1,this.search=this.$route.query.q||null,this.$emit("fetching-data")},getDataWithRoute:function(){this.changingRoute&&(this.settingRoute(),this.scrollToTop()),this.$emit("fetching-data",{orderBy:this.orderBy,orderByType:this.orderByType,page:this.currentPage,q:this.q})},navigate:function(param){param>0&&this.currentPage>=this.totalPage||param<0&&this.currentPage<=1||(this.currentPage+=param,this.getDataWithRoute())},paginate:function(t){this.currentPage!==t&&(this.currentPage=t,this.getDataWithRoute())},loadData:function(){this.getDataFromRoute()}},destroyed:function(){window.removeEventListener("popstate",this.loadData)},mounted:function(){window.addEventListener("popstate",this.loadData)}},d=l,h=(r(682),r(15)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dply-felx j-right"},[t.totalPage>1?e("ul",{staticClass:"pagination"},[e("li",{class:{disabled:1===t.currentPage},on:{click:function(e){return e.preventDefault(),t.navigate(-1)}}},[e("i",{staticClass:"icon arrow-left black"})]),t._v(" "),t._l(t.allPages.slice(t.getActivePages[0],t.getActivePages[1]),(function(r,n){return e("li",{key:n,staticClass:"page",class:{disabled:t.currentPage===r},on:{click:function(e){return e.preventDefault(),t.paginate(r)}}},[e("span",[t._v(t._s(r))])])})),t._v(" "),e("li",{class:{disabled:t.currentPage===t.totalPage},on:{click:function(e){return e.preventDefault(),t.navigate(1)}}},[e("i",{staticClass:"icon arrow-right black"},[t._v("Â ")])])],2):t._e()])}),[],!1,null,null,null);e.default=component.exports},783:function(t,e,r){"use strict";r.r(e);r(37),r(7),r(482),r(35);var n=r(1),o=r(4),c=(r(22),r(21),r(128),r(45),r(50),r(53),r(18),r(23),r(24),r(16),r(13),r(10)),l=r(158),d=r(677),h=r(466),f=r(86);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var v={name:"ProductAttribute",data:function(){return{clickedAttributes:{},cartError:null,quantity:1,adding:!1}},props:{product:{type:Object,default:null}},mixins:[f.a],components:{LazyImage:h.default,QuantityNav:d.default,AjaxButton:l.default},computed:{productInventory:function(){var t;return null===(t=this.product)||void 0===t?void 0:t.product_inventories},productAttributes:function(){var t=this,e={};return this.productInventory.forEach((function(i){i.inventory_attributes.forEach((function(r){var n,o,c=r.attribute_value;e[c.attribute_id]||(t.clickedAttributes[c.attribute_id]=null,e[c.attribute_id]={id:c.attribute_id,title:null===(o=c.attribute)||void 0===o?void 0:o.title,values:{}});null!==(n=e[c.attribute_id])&&void 0!==n&&n.values[null==c?void 0:c.id]||(e[c.attribute_id].values[null==c?void 0:c.id]={title:null==c?void 0:c.title,id:null==c?void 0:c.id})}))})),e}},methods:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({checkArrayInObject:function(t,object){var e,r=function(){if(object.hasOwnProperty(n)&&object[n].length===t.length){var e=object[n];if(t.every((function(t){return e.includes(t)})))return{v:n}}};for(var n in object)if(e=r())return e.v;return null},cartAction:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e.adding=!0,r.next=4,e.setRequest({params:{product_id:null===(n=e.product)||void 0===n?void 0:n.id,inventory_id:t,quantity:e.quantity},api:"setCart"});case 4:e.adding=!1,r.next=10;break;case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",e.$nuxt.error(r.t0));case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},addToCart:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.cartError="",o=null===(r=Object.values(t.clickedAttributes))||void 0===r?void 0:r.filter((function(i){return i})),c={},null===(n=t.productInventory)||void 0===n||n.forEach((function(i){var t;c[i.id]||(c[i.id]=[]),null===(t=i.inventory_attributes)||void 0===t||t.map((function(t){c[i.id].push(t.attribute_value_id)}))})),l=t.checkArrayInObject(o,c)){e.next=8;break}return t.cartError="Please choose all attributes",e.abrupt("return",!1);case 8:if(!((null==(d=t.productInventory.find((function(i){return i.id===parseInt(l)})))?void 0:d.quantity)<t.quantity)){e.next=12;break}return t.cartError="Max quantity can be "+d.quantity,e.abrupt("return",!1);case 12:return e.next=14,t.cartAction(l);case 14:t.$emit("cart-added");case 15:case"end":return e.stop()}}),e)})))()}},Object(c.b)("common",["setRequest"])),beforeCreate:function(){},destroyed:function(){},created:function(){},mounted:function(){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},m=v,P=r(15),component=Object(P.a)(m,(function(){var t=this,e=t._self._c;return e("div",[e("div",[e("div",{staticClass:"img-wrap mb-15"},[e("lazy-image",{attrs:{"data-src":t.getThumbImageURL(t.product.image),alt:t.product.title}})],1),t._v(" "),e("nuxt-link",{attrs:{to:"/products/".concat(t.product.id),title:t.product.title}},[e("h5",{staticClass:"ellipsis-2"},[t._v(t._s(t.product.title))])]),t._v(" "),e("p",{staticClass:"error"},[t._v(t._s(t.cartError))])],1),t._v(" "),e("div",{staticClass:"mtb-10 product-attribute"},[t._l(Object.values(t.productAttributes),(function(r,n){return e("div",{key:n,staticClass:"dply-felx gap-10 j-left mb-10"},[e("h5",{staticClass:"attr-title ellipsis",attrs:{title:r.title}},[t._v(t._s(r.title))]),t._v(" "),t._l(Object.values(r.values),(function(o,c){return e("label",{key:"".concat(n,"-").concat(c),staticClass:"rd-container rd-attr"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.clickedAttributes[r.id],expression:"clickedAttributes[value.id]"}],attrs:{type:"radio",name:r.id},domProps:{value:o.id,checked:t._q(t.clickedAttributes[r.id],o.id)},on:{change:function(e){return t.$set(t.clickedAttributes,r.id,o.id)}}}),t._v(" "),e("span",{staticClass:"rd-checkmark"}),t._v(" "),e("span",{staticClass:"input-content"},[t._v(t._s(o.title))])])}))],2)})),t._v(" "),e("div",{staticClass:"f-wrap dply-felx j-left gap-10"},[e("quantity-nav",{staticClass:"mt-15 mb-10",attrs:{quantity:parseInt(t.quantity),"product-inventory":t.productInventory},on:{"value-changed":function(e){t.quantity=e}}}),t._v(" "),e("ajax-button",{staticClass:"primary-btn",attrs:{type:"button",onlyIcon:"add-to-cart","fetching-data":t.adding},on:{clicked:t.addToCart}})],1)],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LazyImage:r(466).default,AjaxButton:r(158).default})},918:function(t,e,r){"use strict";r.r(e);r(28),r(160),r(124),r(18),r(21),r(23),r(24),r(7),r(13);var n=r(1),o=r(4),c=(r(22),r(45),r(16),r(53),r(694)),l=r(86),d=r(10),h=r(466),f=r(159),y=r(676),v=r(480),m=r(698),P=r(49),O=r(158),j=r(783);function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var k={name:"manager",middleware:["common-middleware","auth"],data:function(){return{cartError:null,brand:null,category:null,search:"",result:null,validLicence:!1,loading:!1}},components:{Cart:r(870).default,ProductAttribute:j.default,AjaxButton:O.default,Spinner:P.default,Pagination:m.default,SearchDropdown:y.default,Dropdown:f.default,LazyImage:h.default},mixins:[l.a,c.a],computed:_({totalPage:function(){var t;return null===(t=this.result)||void 0===t?void 0:t.last_page},products:function(){var t;return null===(t=this.result)||void 0===t?void 0:t.data}},Object(d.c)("admin",["posPublicKey"])),methods:_({pageChanged:function(t){this.settingQuery(t)},clearFilter:function(){this.category="",this.search="",this.brand="",this.$refs.brandSearch.clearData(),this.$refs.categorySearch.clearData(),this.settingQuery()},settingQuery:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1};this.listParams=_(_({},this.listParams),t),this.fetchingData(t)},brandClicked:function(t){this.brand=null==t?void 0:t.id,this.settingQuery()},categoryClicked:function(t){this.category=null==t?void 0:t.id,this.settingQuery()},clear:function(){this.search="",this.settingQuery()},searchData:Object(v.debounce)((function(){this.settingQuery()}),700),fetchingData:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:{},r.prev=1,e.loading=!0,r.next=5,e.getRequest({params:_(_(_(_({},e.listParams),n),{categories:e.category,brands:e.brand,q:e.search}),{time_zone:e.timeZone}),api:"getProducts"});case 5:e.result=r.sent,e.loading=!1,r.next=12;break;case 9:return r.prev=9,r.t0=r.catch(1),r.abrupt("return",e.$nuxt.error(r.t0));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()}},Object(d.b)("common",["getRequest"])),mounted:function(){var t=window.location.hostname;if(t.includes("admin.ishop.cholobangla.com")||t.includes("localhost")||t.includes("127.0.0.1"))this.validLicence=!0;else if(this.posPublicKey){var e=this.phpDecryption(this.posPublicKey),r=JSON.parse(e),n=!(null!=r&&r.p)||(null==r?void 0:r.p)&&"pos-ishop"===(null==r?void 0:r.p);e.includes(t)&&n&&(this.validLicence=!0)}this.$can("product","view")&&this.fetchingData()}},x=k,C=r(15),component=Object(C.a)(x,(function(){var t=this,e=t._self._c;return t.validLicence?e("div",{staticClass:"pos-container"},[e("div",{staticClass:"pos-products"},[e("div",{staticClass:"pos-heading mb-20"},[e("form",[e("div",{staticClass:"icon-input"},[e("i",{staticClass:"icon search"}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:t.$t("list.sh")},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},t.searchData],blur:function(e){return t.$forceUpdate()}}}),t._v(" "),t.search?e("button",{staticClass:"ml-5 close-btn",on:{click:function(e){return e.preventDefault(),t.clear.apply(null,arguments)}}},[e("i",{staticClass:"icon search"})]):t._e()])]),t._v(" "),e("search-dropdown",{ref:"categorySearch",attrs:{currentId:"categorySearch",placeholder:t.$t("category.catUp"),"list-api":"getAllCategories"},on:{clicked:t.categoryClicked}}),t._v(" "),e("search-dropdown",{ref:"brandSearch",attrs:{currentId:"brandSearch",placeholder:t.$t("prod.brand"),"list-api":"getAllBrands"},on:{clicked:t.brandClicked}}),t._v(" "),e("button",{staticClass:"outline-btn",attrs:{type:"button",name:"save"},on:{click:function(e){return e.preventDefault(),t.clearFilter.apply(null,arguments)}}},[t._v("\n        "+t._s(t.$t("ship.cl"))+"\n      ")])],1),t._v(" "),t.loading?e("div",{staticClass:"spinner-wrapper"},[e("spinner",{staticClass:"mr-15",attrs:{radius:60,color:"primary"}})],1):e("div",{staticClass:"pos-wrap"},t._l(t.products,(function(r,n){return e("product-attribute",{key:n,staticClass:"pos-item",attrs:{product:r},on:{"cart-added":function(e){return t.$refs.cartEl.fetchingCartData()}}})})),1),t._v(" "),t.loading?t._e():e("pagination",{attrs:{page:t.listParams.page,"changing-route":!1,"total-page":t.totalPage},on:{"fetching-data":t.pageChanged}})],1),t._v(" "),e("cart",{ref:"cartEl"})],1):t._e()}),[],!1,null,"60b10f54",null);e.default=component.exports;installComponents(component,{SearchDropdown:r(676).default,Spinner:r(49).default})}}]);
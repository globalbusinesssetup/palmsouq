/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[122,32,80,82,84],{467:function(t,e,r){t.exports=function(){"use strict";var g="undefined"!=typeof document&&document.documentMode,t={rootMargin:"0px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var e=t.querySelector("img"),r=!1;null===e&&(e=document.createElement("img"),r=!0),g&&t.getAttribute("data-iesrc")&&(e.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(e.alt=t.getAttribute("data-alt")),r&&t.append(e)}if("video"===t.nodeName.toLowerCase()&&!t.getAttribute("data-src")&&t.children){for(var a=t.children,n=void 0,i=0;i<=a.length-1;i++)(n=a[i].getAttribute("data-src"))&&(a[i].src=n);t.load()}t.getAttribute("data-poster")&&(t.poster=t.getAttribute("data-poster")),t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset"));var o=",";if(t.getAttribute("data-background-delimiter")&&(o=t.getAttribute("data-background-delimiter")),t.getAttribute("data-background-image"))t.style.backgroundImage="url('"+t.getAttribute("data-background-image").split(o).join("'),url('")+"')";else if(t.getAttribute("data-background-image-set")){var l=t.getAttribute("data-background-image-set").split(o),u=l[0].substr(0,l[0].indexOf(" "))||l[0];u=-1===u.indexOf("url(")?"url("+u+")":u,1===l.length?t.style.backgroundImage=u:t.setAttribute("style",(t.getAttribute("style")||"")+"background-image: "+u+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))},loaded:function(){}};function e(t){t.setAttribute("data-loaded",!0)}var r=function(t){return"true"===t.getAttribute("data-loaded")},n=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var o,a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=Object.assign({},t,c),i=d.root,v=d.rootMargin,m=d.threshold,u=d.load,g=d.loaded,s=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(s=new IntersectionObserver((o=u,a=g,function(t,n){t.forEach((function(t){(0<t.intersectionRatio||t.isIntersecting)&&(n.unobserve(t.target),r(t.target)||(o(t.target),e(t.target),a(t.target)))}))}),{root:i,rootMargin:v,threshold:m}));for(var f,h=n(l,i),b=0;b<h.length;b++)(f=h[b]).getAttribute("data-placeholder-background")&&(f.style.background=f.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=n(l,i),o=0;o<t.length;o++)r(t[o])||(s?s.observe(t[o]):(u(t[o]),e(t[o]),g(t[o])))},triggerLoad:function(t){r(t)||(u(t),e(t),g(t))},observer:s}}}()},468:function(t,e,r){"use strict";var n=r(470).has;t.exports=function(t){return n(t),t}},470:function(t,e,r){"use strict";var n=r(5),o=Set.prototype;t.exports={Set:Set,add:n(o.add),has:n(o.has),remove:n(o.delete),proto:o}},471:function(t,e,r){"use strict";var n=r(5),o=r(290),l=r(470),c=l.Set,d=l.proto,v=n(d.forEach),m=n(d.keys),f=m(new c).next;t.exports=function(t,e,r){return r?o({iterator:m(t),next:f},e):v(t,e)}},474:function(t,e,r){"use strict";var n=r(55),o=r(12),l=r(652),c=r(30),d=n("Set");t.exports=function(t){return function(t){return c(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:l(t)?new d(t):t}},475:function(t,e,r){"use strict";var n=r(52),o=r(27),l=r(19),c=r(77),d=r(654),v="Invalid size",m=RangeError,f=TypeError,h=Math.max,_=function(t,e){this.set=t,this.size=h(e,0),this.has=n(t.has),this.keys=n(t.keys)};_.prototype={getIterator:function(){return d(o(l(this.keys,this.set)))},includes:function(t){return l(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw new f(v);var r=c(e);if(r<0)throw new m(v);return new _(t,r)}},480:function(t,e){function r(t,e,r){var n,o,l,c,d;function v(){var m=Date.now()-c;m<e&&m>=0?n=setTimeout(v,e-m):(n=null,r||(d=t.apply(l,o),l=o=null))}null==e&&(e=100);var m=function(){l=this,o=arguments,c=Date.now();var m=r&&!n;return n||(n=setTimeout(v,e)),m&&(d=t.apply(l,o),l=o=null),d};return m.clear=function(){n&&(clearTimeout(n),n=null)},m.flush=function(){n&&(d=t.apply(l,o),l=o=null,clearTimeout(n),n=null)},m}r.debounce=r,t.exports=r},482:function(t,e,r){"use strict";var n=r(3),o=r(291).values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},483:function(t,e,r){"use strict";var n=r(294),o=r(470);t.exports=n(o.proto,"size","get")||function(t){return t.size}},487:function(t,e,r){"use strict";var n=r(470),o=r(471),l=n.Set,c=n.add;t.exports=function(t){var e=new l;return o(t,(function(t){c(e,t)})),e}},489:function(t,e,r){var content=r(502);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(63).default)("cd7d3818",content,!0,{sourceMap:!1})},490:function(t,e,r){var content=r(504);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(63).default)("3145ed91",content,!0,{sourceMap:!1})},495:function(t,e,r){"use strict";r.r(e);var n=r(1),o=r(4),l=(r(22),r(18),r(21),r(198),r(23),r(24),r(16),r(7),r(13),r(67)),c=r(480),d=r(49),v=r(10);function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var f={name:"TagSearch",data:function(){return{setApi:"setTags",searchedString:"",tagList:null,loading:!1,autoSuggestionOpen:!1,deleteWarning:!1}},props:{tags:{type:String,default:""}},directives:{outsideClick:l.a},components:{Spinner:d.default},watch:{searchedString:Object(c.debounce)((function(){this.fetchingData()}),700)},computed:{tagExists:function(){var t=this;return this.tagList.findIndex((function(e){return e.title===t.searchedString}))>-1},selectedTags:function(){return this.tags?this.tags.split(",").filter((function(t){return t})):[]}},methods:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({deleteKeyPress:function(){this.searchedString||(this.deleteWarning&&this.deleteTag(this.selectedTags[this.selectedTags.length-1]),this.deleteWarning=!this.deleteWarning)},deleteTag:function(t){this.$emit("delete",t)},openResult:function(){this.autoSuggestionOpen=!this.autoSuggestionOpen,this.fetchingData()},saveTag:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.setRequest({params:{title:t.searchedString},api:"setTags"});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",t.$nuxt.error(e.t0));case 9:t.loading=!1;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))()},fetchingData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.getRequest({params:{q:t.searchedString},api:"getTags"});case 4:r=e.sent,(data=r.data)&&(t.tagList=data),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",t.$nuxt.error(e.t0));case 12:t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},autoSuggestionClose:function(){this.autoSuggestionOpen=this.deleteWarning=!1,this.searchedString=""},emitAddingTag:function(t){-1===this.selectedTags.findIndex((function(e){return e===t}))&&this.$emit("add",t)},clickedItem:function(data){data||(this.saveTag(),data=this.searchedString),this.emitAddingTag(data),this.autoSuggestionClose(),this.$refs.tagSearchInput.focus()}},Object(v.b)("common",["setRequest","getRequest"]))},h=f,_=(r(501),r(15)),component=Object(_.a)(h,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"outside-click",rawName:"v-outside-click",value:t.autoSuggestionClose,expression:"autoSuggestionClose"}],staticClass:"tag-wrapper"},[e("ul",{staticClass:"tags"},[t._l(t.selectedTags,(function(r,n){return e("li",{key:n,class:{warning:t.deleteWarning&&n===t.selectedTags.length-1}},[e("span",{staticClass:"tag"},[t._v("\n        "+t._s(r)+"\n        "),e("span",{staticClass:"close-btn",on:{click:function(e){return t.deleteTag(r)}}},[e("i",{staticClass:"icon close-icon"})])])])})),t._v(" "),e("li",{staticClass:"tag-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchedString,expression:"searchedString"}],ref:"tagSearchInput",attrs:{type:"text",placeholder:"Write here"},domProps:{value:t.searchedString},on:{focus:t.openResult,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.clickedItem({title:t.searchedString}))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.deleteKeyPress()}],input:function(e){e.target.composing||(t.searchedString=e.target.value)}}})])],2),t._v(" "),t.autoSuggestionOpen?e("div",{staticClass:"tag-dropdown"},[t.loading?e("div",{staticClass:"spinner-wrapper"},[e("spinner",{attrs:{radius:40,color:"primary"}})],1):t.tagList?e("ul",[t._l(t.tagList,(function(r,n){return e("li",{key:n},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clickedItem(r.title)}}},[t._v("\n          "+t._s(r.title)+"\n        ")])])})),t._v(" "),t.searchedString&&!t.tagExists?e("li",[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clickedItem(null)}}},[t._v("\n          "+t._s(t.searchedString)+" ("+t._s(t.$t("error.new"))+")\n        ")])]):t._e()],2):t.searchedString?t._e():e("p",[t._v("\n      "+t._s(t.$t("index.nf"))+"\n    ")])]):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Spinner:r(49).default})},496:function(t,e,r){"use strict";r.r(e);r(18),r(51),r(197);var n=r(691),o=r(86),l=r(293),c=r.n(l),d={name:"WYSIWYGEditor",data:function(){return{acceptedTags:["iframe"],productDescription:"",editAsHtml:!1,fullScreen:!1,focused:!1}},props:{title:{type:String,default:function(){return this.$t("prod.desc")}},type:{type:Number,required:!1},description:{type:String,default:""}},mixins:[o.a],components:{VueEditor:n.a},watch:{description:function(t){this.productDescription=c.a.sanitize(t,{ADD_TAGS:this.acceptedTags})}},computed:{},methods:{descriptionChange:function(){this.$emit("change",c.a.sanitize(this.productDescription,{ADD_TAGS:this.acceptedTags}))},fullScreenToggle:function(){this.fullScreen=!this.fullScreen},handleImageRemoved:function(t,e,r,n){this.handleDescriptionImage(!0,t,e,r,n)},handleImageAdded:function(t,e,r,n){this.handleDescriptionImage(!1,t,e,r,n)},handleDescriptionImage:function(t,e,r,n,o){this.$emit("file",{deleted:t,file:e,Editor:r,cursorLocation:n,resetUploader:o})}},beforeCreate:function(){},destroyed:function(){},created:function(){},mounted:function(){this.productDescription=c.a.sanitize(this.description)}},v=(r(503),r(15)),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"wysiwyg-wrapper",class:[{"full-screen":t.fullScreen},{focused:t.focused}]},[e("div",{staticClass:"dply-felx mb-15"},[e("label",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),e("div",{staticClass:"custom-toolbar"},[e("button",{staticClass:"outline-btn",on:{click:function(e){e.preventDefault(),t.editAsHtml=!t.editAsHtml}}},[t._v("\n        "+t._s(t.$t("error.ea",{type:t.editAsHtml?t.$t("profile.wysi"):t.$t("profile.html")}))+"\n      ")]),t._v(" "),e("button",{staticClass:"outline-btn",on:{click:function(e){return e.preventDefault(),t.fullScreenToggle.apply(null,arguments)}}},[t._v("\n        "+t._s(t.$t("error.scrn",{type:t.fullScreen?t.$t("error.nrm"):t.$t("error.full")}))+"\n      ")]),t._v(" "),t.fullScreen?e("button",{staticClass:"ml-10 close-btn",on:{click:function(e){return e.preventDefault(),t.fullScreenToggle.apply(null,arguments)}}},[e("i",{staticClass:"icon close-icon"})]):t._e()])]),t._v(" "),t.editAsHtml?e("p",{staticClass:"info-msg mb-20 mb-sm-15"},[t._v("\n    "+t._s(t.$t("error.st"))+": h1, h2...h6, p, strong, em, u, s, blockquote, pre, ul, li, ol, br, a, img, video.\n    "+t._s(t.$t("error.mkSr"))+"\n  ")]):t._e(),t._v(" "),t.editAsHtml?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.productDescription,expression:"productDescription"}],domProps:{value:t.productDescription},on:{change:t.descriptionChange,input:function(e){e.target.composing||(t.productDescription=e.target.value)}}}):e("vue-editor",{attrs:{useCustomImageHandler:""},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},"text-change":t.descriptionChange,"image-added":t.handleImageAdded,"image-removed":t.handleImageRemoved},model:{value:t.productDescription,callback:function(e){t.productDescription=e},expression:"productDescription"}})],1)}),[],!1,null,null,null);e.default=component.exports},501:function(t,e,r){"use strict";r(489)},502:function(t,e,r){var n=r(62)((function(i){return i[1]}));n.push([t.i,".tag-wrapper{border:1px solid #ddd;border-radius:4px;padding:10px 15px;position:relative}.tag-wrapper .tags{display:flex;flex-wrap:wrap}.tag-wrapper .tags .tag-input{flex-grow:1;padding-right:34px;position:relative}.tag-wrapper .tags .tag-input .spinner{position:absolute;right:5px;top:50%;transform:translateY(-50%)}.tag-wrapper .tags .tag-input input{background:none;border:none;box-shadow:none;height:30px;line-height:30px;margin:5px 10px 5px 0;padding:0}.tag-wrapper .tags .tag{align-items:center;background:#eee;border:1px solid #ddd;border-radius:50px;color:#333;display:flex;height:30px;line-height:25px;margin:5px 10px 5px 0;padding:0 30px 0 10px;position:relative}.tag-wrapper .tags .tag .close-btn{background:#ddd;border:1px solid #ddd;color:#333;cursor:pointer;height:20px;line-height:10px;margin-left:5px;margin-top:-10px;position:absolute;right:3px;top:50%;width:20px}.tag-wrapper .tags .tag .close-btn .close-icon{min-width:20px}.tag-wrapper .warning .tag{background:#a12321;border-color:#a12321;color:#fff}.tag-wrapper .tag-dropdown{background:#fff;border-radius:5px;box-shadow:0 3px 10px rgba(0,0,0,.1);left:0;max-height:300px;min-height:100px;overflow:auto;padding:15px 15px 5px;position:absolute;right:0;top:calc(100% + 1px);z-index:1}.tag-wrapper .tag-dropdown li a{border:1px solid #ddd;border-radius:50px;color:#333;height:32px;line-height:30px;margin:0 10px 10px 0;padding:0 20px}.tag-wrapper .tag-dropdown li a:hover{background:#eee}",""]),n.locals={},t.exports=n},503:function(t,e,r){"use strict";r(490)},504:function(t,e,r){var n=r(62)((function(i){return i[1]}));n.push([t.i,".ql-snow .ql-editor img{width:auto}.custom-toolbar{align-items:center;display:flex;gap:15px}.ql-editor{max-height:400px}.ql-editor li{display:block;line-height:1.9}.focused .ql-container{border-color:#444!important}.focused .ql-toolbar.ql-snow{border-color:#444!important;border-bottom:1px solid #ccc}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-radius:0 0 5px 5px}.ql-toolbar.ql-snow{border-radius:5px 5px 0 0}.has-error .whysigwyg-error .ql-container,.has-error .whysigwyg-error .ql-toolbar.ql-snow{border-color:red!important}.full-screen{background:#fff;bottom:0;display:flex;flex-direction:column;left:0;padding:30px;position:fixed;right:0;top:0;z-index:10}.full-screen .ql-editor{max-height:4000px}.full-screen .quillWrapper{display:flex;flex-direction:column;flex-grow:1}.full-screen .quillWrapper .ql-container,.full-screen textarea{flex-grow:1}@media only screen and (max-width:768px){.wysiwyg-wrapper .dply-felx{display:block;margin:10px 0}.wysiwyg-wrapper .dply-felx .custom-toolbar button{margin-top:10px}}",""]),n.locals={},t.exports=n},647:function(t,e,r){"use strict";r(648)},648:function(t,e,r){"use strict";r(295)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(296))},649:function(t,e,r){"use strict";var n=r(3),o=r(468),l=r(470).add;n({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),e=0,r=arguments.length;e<r;e++)l(t,arguments[e]);return t}})},650:function(t,e,r){"use strict";var n=r(3),o=r(468),l=r(470).remove;n({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),r=!0,n=0,c=arguments.length;n<c;n++)t=l(e,arguments[n]),r=r&&t;return!!r}})},651:function(t,e,r){"use strict";var n=r(3),o=r(19),l=r(474),c=r(653);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(c,this,l(t))}})},652:function(t,e,r){"use strict";var n=r(103),o=r(26),l=r(58),c=r(14),d=r(104),v=c("iterator"),m=Object;t.exports=function(t){if(l(t))return!1;var e=m(t);return void 0!==e[v]||"@@iterator"in e||o(d,n(e))}},653:function(t,e,r){"use strict";var n=r(468),o=r(470),l=r(487),c=r(483),d=r(475),v=r(471),m=r(290),f=o.has,h=o.remove;t.exports=function(t){var e=n(this),r=d(t),o=l(e);return c(e)<=r.size?v(e,(function(t){r.includes(t)&&h(o,t)})):m(r.getIterator(),(function(t){f(e,t)&&h(o,t)})),o}},654:function(t,e,r){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},655:function(t,e,r){"use strict";var n=r(3),o=r(34),l=r(468),c=r(471);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=l(this),r=o(t,arguments.length>1?arguments[1]:void 0);return!1!==c(e,(function(t){if(!r(t,t,e))return!1}),!0)}})},656:function(t,e,r){"use strict";var n=r(3),o=r(34),l=r(468),c=r(470),d=r(471),v=c.Set,m=c.add;n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=l(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=new v;return d(e,(function(t){r(t,t,e)&&m(n,t)})),n}})},657:function(t,e,r){"use strict";var n=r(3),o=r(34),l=r(468),c=r(471);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=l(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=c(e,(function(t){if(r(t,t,e))return{value:t}}),!0);return n&&n.value}})},658:function(t,e,r){"use strict";var n=r(3),o=r(19),l=r(474),c=r(659);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(c,this,l(t))}})},659:function(t,e,r){"use strict";var n=r(468),o=r(470),l=r(483),c=r(475),d=r(471),v=r(290),m=o.Set,f=o.add,h=o.has;t.exports=function(t){var e=n(this),r=c(t),o=new m;return l(e)>r.size?v(r.getIterator(),(function(t){h(e,t)&&f(o,t)})):d(e,(function(t){r.includes(t)&&f(o,t)})),o}},660:function(t,e,r){"use strict";var n=r(3),o=r(19),l=r(474),c=r(661);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(c,this,l(t))}})},661:function(t,e,r){"use strict";var n=r(468),o=r(470).has,l=r(483),c=r(475),d=r(471),v=r(290),m=r(199);t.exports=function(t){var e=n(this),r=c(t);if(l(e)<=r.size)return!1!==d(e,(function(t){if(r.includes(t))return!1}),!0);var f=r.getIterator();return!1!==v(f,(function(t){if(o(e,t))return m(f,"normal",!1)}))}},662:function(t,e,r){"use strict";var n=r(3),o=r(19),l=r(474),c=r(663);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(c,this,l(t))}})},663:function(t,e,r){"use strict";var n=r(468),o=r(483),l=r(471),c=r(475);t.exports=function(t){var e=n(this),r=c(t);return!(o(e)>r.size)&&!1!==l(e,(function(t){if(!r.includes(t))return!1}),!0)}},664:function(t,e,r){"use strict";var n=r(3),o=r(19),l=r(474),c=r(665);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(c,this,l(t))}})},665:function(t,e,r){"use strict";var n=r(468),o=r(470).has,l=r(483),c=r(475),d=r(290),v=r(199);t.exports=function(t){var e=n(this),r=c(t);if(l(e)<r.size)return!1;var m=r.getIterator();return!1!==d(m,(function(t){if(!o(e,t))return v(m,"normal",!1)}))}},666:function(t,e,r){"use strict";var n=r(3),o=r(5),l=r(468),c=r(471),d=r(25),v=o([].join),m=o([].push);n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=l(this),r=void 0===t?",":d(t),n=[];return c(e,(function(t){m(n,t)})),v(n,r)}})},667:function(t,e,r){"use strict";var n=r(3),o=r(34),l=r(468),c=r(470),d=r(471),v=c.Set,m=c.add;n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=l(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=new v;return d(e,(function(t){m(n,r(t,t,e))})),n}})},668:function(t,e,r){"use strict";var n=r(3),o=r(52),l=r(468),c=r(471),d=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=l(this),r=arguments.length<2,n=r?void 0:arguments[1];if(o(t),c(e,(function(o){r?(r=!1,n=o):n=t(n,o,o,e)})),r)throw new d("Reduce of empty set with no initial value");return n}})},669:function(t,e,r){"use strict";var n=r(3),o=r(34),l=r(468),c=r(471);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=l(this),r=o(t,arguments.length>1?arguments[1]:void 0);return!0===c(e,(function(t){if(r(t,t,e))return!0}),!0)}})},670:function(t,e,r){"use strict";var n=r(3),o=r(19),l=r(474),c=r(671);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(c,this,l(t))}})},671:function(t,e,r){"use strict";var n=r(468),o=r(470),l=r(487),c=r(475),d=r(290),v=o.add,m=o.has,f=o.remove;t.exports=function(t){var e=n(this),r=c(t).getIterator(),o=l(e);return d(r,(function(t){m(e,t)?f(o,t):v(o,t)})),o}},672:function(t,e,r){"use strict";var n=r(3),o=r(19),l=r(474),c=r(673);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(c,this,l(t))}})},673:function(t,e,r){"use strict";var n=r(468),o=r(470).add,l=r(487),c=r(475),d=r(290);t.exports=function(t){var e=n(this),r=c(t).getIterator(),v=l(e);return d(r,(function(t){o(v,t)})),v}},703:function(t,e,r){"use strict";r.r(e);r(37),r(44),r(18),r(21),r(23),r(24),r(16),r(7),r(13);var n=r(1),o=r(4),l=(r(50),r(22),r(10)),c=r(86),d=r(466),v=r(67),m=r(158),f=r(465);function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var y={name:"ProductImage",data:function(){return{hasError:!1,attributes:[],imageData:"",formSubmitting:!1,uploading:!1,showAttributes:!1,deleting:!1,errors:null}},props:{productImage:{type:Object,default:function(){return{id:"",image:""}}}},directives:{outsideClick:v.a},mixins:[c.a],components:{ErrorFormatter:f.default,AjaxButton:m.default,LazyImage:d.default},computed:_({},Object(l.c)("common",["allAttributeValues"])),methods:_({closeAttrDrop:function(){this.showAttributes=!1},updateAttributes:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hasError=!1,e.prev=1,t.formSubmitting=!0,e.next=5,t.setRequest({params:{product_image_id:t.productImage.id,product_id:null===(r=t.$route)||void 0===r||null===(r=r.params)||void 0===r?void 0:r.id,values:t.attributes},api:"setProductImageAttributes"});case 5:e.sent||(t.hasError=!0),t.formSubmitting=!1,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",t.$nuxt.error(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},imageDelete:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!confirm(e.$t("admin.dltMsg"))){r.next=13;break}return r.prev=1,e.deleting=!0,r.next=5,e.deleteData({params:t,api:"deleteProductImage"});case 5:(data=r.sent)&&e.$emit("image-deleted",data),e.deleting=!1,r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",e.$nuxt.error(r.t0));case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()}},Object(l.b)("common",["deleteData","setRequest"])),mounted:function(){var t;this.attributes=(null===(t=this.productImage)||void 0===t?void 0:t.attributes.map((function(i){return i.attribute_value_id})))||[]}},w=r(15),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100"},[t.hasError?e("error-formatter",{attrs:{type:"images_attribute"}}):t._e(),t._v(" "),e("div",{staticClass:"img-wrapper"},[e("lazy-image",{attrs:{"data-src":t.getThumbImageURL(t.productImage.image)}}),t._v(" "),t.$can("product","edit")||t.$can("product","create")?e("button",{on:{click:function(e){return e.preventDefault(),t.imageDelete(t.productImage.id)}}},[t._v("âœ–\n    ")]):t._e()],1),t._v(" "),e("div",{staticClass:"input-wrapper img-attr-wrap mt-15 dply-felx gap-10"},[e("div",{staticClass:"custom-dropdown cp",attrs:{"data-ignore":"image-attr-".concat(t.productImage.id)},on:{click:function(e){e.preventDefault(),t.showAttributes=!t.showAttributes}}},[e("span",{staticClass:"ignore-click"},[t._v(t._s(t.$t("list.attr"))+" ("+t._s(t.attributes.length)+")\n        "),e("i",{staticClass:"icon black ignore-click",class:[{"arrow-up":t.showAttributes},{"arrow-down":!t.showAttributes}]})])]),t._v(" "),t.showAttributes?e("ul",{directives:[{name:"outside-click",rawName:"v-outside-click",value:t.closeAttrDrop,expression:"closeAttrDrop"}],staticClass:"multiple-wrap to-bottom",attrs:{id:"image-attr-".concat(t.productImage.id)}},t._l(t.allAttributeValues,(function(r,n){return e("label",{key:n,attrs:{"label-for":"product-img-".concat(r.id)}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.attributes,expression:"attributes"}],attrs:{id:"product-img-".concat(r.id),type:"checkbox"},domProps:{value:r.id,checked:Array.isArray(t.attributes)?t._i(t.attributes,r.id)>-1:t.attributes},on:{change:function(e){var n=t.attributes,o=e.target,l=!!o.checked;if(Array.isArray(n)){var c=r.id,d=t._i(n,c);o.checked?d<0&&(t.attributes=n.concat([c])):d>-1&&(t.attributes=n.slice(0,d).concat(n.slice(d+1)))}else t.attributes=l}}}),t._v("\n        "+t._s(r.title)+"\n      ")])})),0):t._e(),t._v(" "),e("ajax-button",{staticClass:"primary-btn",attrs:{type:"button",name:"save",text:t.$t("setting.sv"),"loading-text":"","fetching-data":t.formSubmitting},on:{clicked:t.updateAttributes}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ErrorFormatter:r(465).default,LazyImage:r(466).default,AjaxButton:r(158).default})},722:function(t,e,r){"use strict";r.r(e);r(740),r(7),r(28),r(36),r(106),r(745),r(749),r(750),r(751),r(752),r(753),r(754),r(755),r(756),r(757),r(758),r(759),r(760),r(761),r(762),r(764),r(765),r(766),r(767),r(768),r(769),r(770),r(771),r(772),r(35),r(292),r(126);var n=r(158),o=r(86),l=r(469),c={name:"VideoUpload",data:function(){return{scaleFactor:"",uploadMessage:null}},mixins:[o.a,l.a],components:{AjaxButton:n.default},props:{type:{type:String,default:"image"},fileUploading:{type:Boolean,default:!1},video:{type:String,default:""},image:{type:String,default:""},imageTitle:{type:String,default:""},btnText:{type:String,default:"Upload"}},computed:{isImage:function(){return"image"===this.type},errors:function(){return this.ERRORS&&this.ERRORS[this.type]},videoName:function(){return this.video||""},imageName:function(){var t;return null!==(t=this.image)&&void 0!==t?t:this.defaultImage}},methods:{dataURLtoFile:function(t,e){for(var r=t.split(","),n=r[0].match(/:(.*?);/)[1],o=atob(r[1]),l=o.length,c=new Uint8Array(l);l--;)c[l]=o.charCodeAt(l);return new File([c],e,{type:n})},capture:function(t){var video=document.getElementById("video");document.getElementById("source").src=URL.createObjectURL(t),video.load();var e=!1,r=this;video.addEventListener("loadeddata",(function(){if(e)return!1;e=!0;var n=this.videoWidth,o=this.videoHeight,canvas=document.createElement("canvas");canvas.width=n,canvas.height=o,canvas.getContext("2d").drawImage(this,0,0,n,o);var l=canvas.toDataURL("image/jpeg"),c={canvas:canvas,file:r.dataURLtoFile(l,"".concat(+new Date,".jpg")),base64:l};r.$emit("file-upload",{video:t,thumb:c.file})}))},fileChanged:function(t){var e=t.target.files[0];e&&(this.uploadMessage=this.isValidImage(e,this.maxVideoSize,!1),this.uploadMessage||this.capture(e))}}},d=r(15),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"file-wrapper",class:{"has-error":t.uploadMessage}},[e("div",{staticClass:"file-input",class:{"pt-0":!t.isImage}},[e("input",{ref:"fileInput",attrs:{type:"file",accept:"video/*"},on:{change:t.fileChanged}}),t._v(" "),t.isImage?e("img",{attrs:{src:t.getImageURL(t.imageName),alt:t.imageTitle}}):e("div",[t.videoName?e("video",{attrs:{controls:"",autostart:"0"}},[e("source",{attrs:{src:t.getVideoURL(t.videoName),type:"video/mp4"}})]):e("div",[t._v("\n        "+t._s(t.$t("prod.noVid"))+"\n      ")])]),t._v(" "),t._m(0)]),t._v(" "),t.uploadMessage?e("span",{staticClass:"error mb-10"},[t._v("\n    "+t._s(t.uploadMessage)+"\n  ")]):t._e(),t._v(" "),e("ajax-button",{staticClass:"outline-btn",attrs:{type:"button",text:t.btnText,color:"primary","loading-text":t.$t("error.up"),"fetching-data":t.fileUploading},on:{clicked:function(e){return t.$refs.fileInput.click()}}})],1)}),[function(){var t=this._self._c;return t("video",{staticStyle:{height:"0",width:"0",opacity:"0"},attrs:{id:"video",controls:"",autoplay:""}},[t("source",{attrs:{id:"source",type:"video/mp4"}})])}],!1,null,null,null);e.default=component.exports;installComponents(component,{AjaxButton:r(158).default})},723:function(t,e,r){"use strict";r.r(e);r(124);var n=r(158),o={name:"VideoInput",data:function(){return{videoThumbData:null,videoData:null}},mixins:[r(86).a],components:{AjaxButton:n.default},props:{saving:{type:Boolean,default:!1},videoThumb:{type:String,default:""},video:{type:String,default:""}},watch:{videoThumb:function(t){this.videoThumbData=t},video:function(t){this.$refs.videoRef.src=t,this.$refs.videoRef.play(),this.videoData=t}},computed:{thumbImageName:function(){var t;return null!==(t=this.videoThumbData)&&void 0!==t&&t.trim()?this.videoThumb:this.defaultImage}},methods:{},mounted:function(){this.videoData=this.video,this.videoThumbData=this.videoThumb}},l=r(15),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-url-wrap file-wrapper"},[e("h5",[t._v(t._s(t.$t("error.vti")))]),t._v(" "),e("div",{staticClass:"file-input"},[e("img",{attrs:{src:t.thumbImageName}})]),t._v(" "),e("h5",[t._v(t._s(t.$t("error.vid")))]),t._v(" "),e("div",{staticClass:"file-input"},[e("video",{ref:"videoRef",attrs:{src:"",id:"video-container",width:"100%",controls:""}})]),t._v(" "),e("div",{staticClass:"input-wrapper"},[e("label",[t._v(t._s(t.$t("error.vtn")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.videoThumbData,expression:"videoThumbData"}],attrs:{type:"text",placeholder:t.$t("error.vtn")},domProps:{value:t.videoThumbData},on:{input:function(e){e.target.composing||(t.videoThumbData=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-wrapper"},[e("label",[t._v(t._s(t.$t("error.vn")))]),t._v(" "),e("div",{staticClass:"image-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.videoData,expression:"videoData"}],attrs:{type:"text",placeholder:t.$t("error.vn")},domProps:{value:t.videoData},on:{input:function(e){e.target.composing||(t.videoData=e.target.value)}}}),t._v(" "),e("ajax-button",{staticClass:"primary-btn",attrs:{type:"button",text:t.$t("setting.sv"),"loading-text":"","fetching-data":t.saving},on:{clicked:function(e){return t.$emit("image-change",{video:t.videoData,thumb:t.videoThumbData})}}})],1)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{AjaxButton:r(158).default})},803:function(t,e,r){"use strict";r.r(e);r(18),r(21),r(23),r(24),r(16);var n=r(1),o=r(4),l=(r(22),r(7),r(482),r(13),r(49)),c=r(10),d=r(158),v=r(86),m=r(469),f=r(465),h=r(466),_=r(491),y=r(703);function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C={name:"ProductImages",data:function(){return{imageData:"",uploading:!1,deleting:!1,errors:null}},props:{productImages:{type:Array,default:function(){return[]}}},mixins:[v.a,m.a],components:{ProductImage:y.default,ImageInput:_.default,LazyImage:h.default,AjaxButton:d.default,ErrorFormatter:f.default,Spinner:l.default},computed:x({id:function(){return this.$route.params.id}},Object(c.c)(["mediaStorage"])),methods:x(x({imageDeleted:function(data){this.$emit("result",data)},uploadProductImages:function(t){var e=arguments,r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,l,c,d,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.length>1&&void 0!==e[1]?e[1]:null,l={},t?(c=t.target.files,(d=new FormData).append("id",r.id),d.append("product_id",r.id),Object.values(c).forEach((function(t){d.append("images[]",t),r.errors=r.isValidImage(t),r.errors})),r.setErrors({multiple_image:[r.errors]}),l=d):(l.photo=o,l.product_id=r.id,l.id=r.id),r.errors){n.next=19;break}return n.prev=4,r.uploading=!0,n.next=8,r.setImageById({id:r.id,params:l,api:"setProductImages"});case 8:if(!(data=n.sent)){n.next=13;break}return n.next=12,r.$emit("result",data);case 12:r.imageData="";case 13:r.uploading=!1,n.next=19;break;case 16:return n.prev=16,n.t0=n.catch(4),n.abrupt("return",r.$nuxt.error(n.t0));case 19:case"end":return n.stop()}}),n,null,[[4,16]])})))()}},Object(c.b)("common",["setImageById"])),Object(c.b)("ui",["setErrors"]))},k=C,$=r(15),component=Object($.a)(k,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-20 p-sm-15 pos-rel"},[t.deleting?e("div",{staticClass:"spinner-wrapper"},[e("spinner",{staticClass:"mr-15",attrs:{radius:60,color:"primary"}})],1):t._e(),t._v(" "),e("input",{ref:"filesInput",staticClass:"d-none",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.uploadProductImages}}),t._v(" "),e("error-formatter",{attrs:{type:"multiple_image"}}),t._v(" "),e("div",{staticClass:"product-images dply-felx mb-15 gap-15"},[t.productImages.length?t._e():e("p",{staticClass:"mlr-5"},[t._v("\n      "+t._s(t.$t("list.noData",{data:t.$t("admin.img")}))+"\n    ")]),t._v(" "),t._l(t.productImages,(function(r,n){return e("product-image",{key:n,attrs:{"product-image":r},on:{"image-deleted":t.imageDeleted}})}))],2),t._v(" "),t.$can("product","edit")||t.$can("product","create")?e("div",[t.mediaStorageData.URL===t.mediaStorage?e("div",{staticClass:"input-wrapper"},[e("label",{staticClass:"mb-10"},[t._v("\n\n        "+t._s(t.$t("list.addImg"))+"\n      ")]),t._v(" "),e("div",{staticClass:"image-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.imageData,expression:"imageData"}],staticClass:"mb-10",attrs:{type:"text",placeholder:"Image name"},domProps:{value:t.imageData},on:{input:function(e){e.target.composing||(t.imageData=e.target.value)}}}),t._v(" "),e("ajax-button",{staticClass:"primary-btn",attrs:{type:"button",text:t.$t("setting.sv"),"loading-text":"","fetching-data":t.uploading},on:{clicked:function(e){return t.uploadProductImages(null,t.imageData)}}})],1)]):e("ajax-button",{staticClass:"outline-btn w-100 centered",attrs:{type:"button",color:"primary",text:"Upload Images","loading-text":"Uploading","fetching-data":t.uploading},on:{clicked:function(e){return t.$refs.filesInput.click()}}})],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Spinner:r(49).default,ErrorFormatter:r(465).default,AjaxButton:r(158).default})},945:function(t,e,r){"use strict";r.r(e);r(18),r(51),r(37),r(44),r(23),r(24);var n=r(111),o=r(1),l=r(4),c=(r(22),r(21),r(198),r(45),r(50),r(32),r(16),r(7),r(28),r(38),r(647),r(53),r(36),r(64),r(649),r(650),r(651),r(655),r(656),r(657),r(658),r(660),r(662),r(664),r(666),r(667),r(668),r(669),r(670),r(672),r(13),r(35),r(10)),d=r(465),v=r(496),m=r(803),f=r(476),h=r(722),_=r(495),y=r(158),w=r(721),x=r(479),C=r(159),k=r(49),$=r(86),S=r(491),O=r(723),I=r(67),j=r(480);function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){Object(l.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var E={name:"product",middleware:["common-middleware","auth"],data:function(){return{licence:null,categorySearch:"",productFormOpen:!0,showCategories:!1,validLicence:!1,routeName:"products",getApi:"getProduct",setApi:"setProduct",setImageApi:"setProductImage",setVideoApi:"setProductVideo",fileKeys:["id","tax_rule_id","shipping_rule_id"],validationKeys:["title","slug","unit","meta_title","meta_description","description","overview","selling"],result:{id:"",title:"",tags:",",overview:"",description:"",status:"2",brand_id:"",primary_category_id:"",category_id:"",bundle_deal_id:"",unit:"",badge:"",subcategory_id:"",tax_rule_id:"",shipping_rule_id:"",purchased:"",selling:"",offered:"",stock:"",barcode:"",supplier:"",supplier_item_code:"",refundable:1,warranty:1,meta_description:"",meta_keywords:"",flash_sale_product:"",meta_title:"",image:"",banner_image:"",slug:"",video:"",product_images:[],product_collections:[],product_categories:[]},hasError:!1,loading:!1,formSubmitting:!1,redirect:!1,fileUploading:!1,videoUploading:!1,searchedCategories:{}}},directives:{outsideClick:I.a},mixins:[$.a],components:{VideoInput:O.default,ImageInput:S.default,DataPage:x.default,Dropdown:C.default,WYSIWYGEditor:v.default,ProductImages:m.default,FileUpload:f.default,VideoUpload:h.default,TagSearch:_.default,AjaxButton:y.default,ProductInventory:w.default,ErrorFormatter:d.default,Spinner:k.default},computed:A(A(A(A(A({productCategories:function(){return this.result.product_categories},selectedCategories:function(){var t=this,e=null;return this.allCategories&&this.productCategories.length&&Object.keys(this.allCategories).forEach((function(i){t.productCategories.includes(i)&&(e=A(A({},e),Object(l.a)({},i,t.allCategories[i])))})),e},currencyPosition:function(){var t;return null===(t=this.setting)||void 0===t?void 0:t.currency_position},currentPrice:function(){return this.result.offered>0?this.result.offered:this.result.selling>0?this.result.selling:0},id:function(){var t;return this.isAdding?"":null===(t=this.$route)||void 0===t||null===(t=t.params)||void 0===t?void 0:t.id},isAdding:function(){var t;return isNaN(null===(t=this.$route)||void 0===t||null===(t=t.params)||void 0===t?void 0:t.id)},currencyIcon:function(){var t;return(null===(t=this.setting)||void 0===t?void 0:t.currency_icon)||"$"}},Object(c.c)(["mediaStorage"])),Object(c.c)("admin",["publicKey"])),Object(c.c)("language",["currentLanguage"])),Object(c.c)("setting",["setting"])),Object(c.c)("common",["allCategories","allTaxRules","allAttributes","allBrands","allProductCollections","allBundleDeals","allShippingRules"])),methods:A({doCategorySearch:Object(j.debounce)((function(){this.searchOnCategory()}),500),searchOnCategory:function(){var t,e=this;this.searchedCategories={},Object.keys(this.allCategories).filter((function(element){return e.allCategories[element].title.toLowerCase().includes(e.categorySearch.toLowerCase())})).forEach((function(i){e.searchedCategories[i]=e.allCategories[i]})),null!==(t=Object.keys(this.searchedCategories))&&void 0!==t&&t.length||this.categorySearch||(this.searchedCategories=this.allCategories)},closeDrop:function(){this.showCategories=!1},productImages:function(t){var e=this;this.result.product_images=[],this.$nextTick((function(){e.result.product_images=t}))},imageInputChanged:function(t){this.uploadFile(null,t)},addTag:function(t){this.result.tags||(this.result.tags=","),this.result.tags="".concat(this.result.tags).concat(t,",")},deleteTag:function(t){this.result.tags=this.result.tags.replace("".concat(t,","),"")},dropdownSelected:function(data){this.result.status=data.key},primaryCategorySelected:function(data){this.result.primary_category_id=data.key},categorySelected:function(data){this.result.category_id=data.key,this.selectedSubCategories?this.result.subcategory_id=Object.keys(this.selectedSubCategories)[0]:this.result.subcategory_id=""},taxRuleSelected:function(data){this.result.tax_rule_id=data.key},shippingRuleSelected:function(data){this.result.shipping_rule_id=data.key},brandSelected:function(data){this.result.brand_id=data.key},bundleDealSelected:function(data){this.result.bundle_deal_id=data.key},redirectingEnable:function(t){this.redirect="save"===t},checkForm:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var data,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.validationKeys.findIndex((function(i){return!t.result[i]}))>-1)){e.next=3;break}return t.hasError=!0,e.abrupt("return",!1);case 3:return t.redirectingEnable(event.submitter.name),t.formSubmitting=!0,e.prev=5,delete t.result.created_at,delete t.result.updated_at,e.next=10,t.setById({id:t.id,params:t.result,api:t.setApi});case 10:(data=e.sent)?(t.result=Object.assign({},data),t.result.product_collections=Object(n.a)(new Set(null===(r=t.result)||void 0===r||null===(r=r.product_collections)||void 0===r?void 0:r.map((function(t){return t.product_collection_id})))),t.result.product_categories=Object(n.a)(new Set(null===(o=t.result)||void 0===o||null===(o=o.product_categories)||void 0===o?void 0:o.map((function(t){return t.category_id.toString()})))),t.$router.push({path:"/".concat(t.routeName).concat(t.redirect?"":"/"+t.result.id)})):t.scrollToTop(),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(5),e.abrupt("return",t.$nuxt.error(e.t0));case 17:t.formSubmitting=!1;case 18:case"end":return e.stop()}}),e,null,[[5,14]])})))()},scrollToTop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"productForm";this.$refs[t].scrollIntoView({behavior:"smooth"})},fetchingData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.t0=Object,e.t1={},e.next=6,t.getById({id:t.id,params:{},api:t.getApi});case 6:e.t2=e.sent,t.result=e.t0.assign.call(e.t0,e.t1,e.t2),t.result.product_collections=Object(n.a)(new Set(null===(r=t.result)||void 0===r||null===(r=r.product_collections)||void 0===r?void 0:r.map((function(t){return t.product_collection_id})))),t.result.product_categories=Object(n.a)(new Set(null===(o=t.result)||void 0===o||null===(o=o.product_categories)||void 0===o?void 0:o.map((function(t){return t.category_id.toString()})))),t.loading=!1,e.next=16;break;case 13:return e.prev=13,e.t3=e.catch(0),e.abrupt("return",t.$nuxt.error(e.t3));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},uploadVideo:function(t){var e=arguments,r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var video,l,c,data,d,v;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return video=e.length>1&&void 0!==e[1]?e[1]:null,r.videoUploading=!0,o.prev=2,l={},t?(c=new FormData,r.fileKeys.forEach((function(i){c.append(i,r.result[i])})),c.append("video_file",t.video),c.append("thumb",t.thumb),l=c):(r.fileKeys.forEach((function(i){l[i]=r.result[i]})),l.video_file=video.video,l.thumb=video.thumb),o.next=7,r.setImageById({id:r.id,params:l,api:r.setVideoApi});case 7:if(!(data=o.sent)){o.next=14;break}return r.result=Object.assign({},data),r.result.product_collections=Object(n.a)(new Set(null===(d=r.result)||void 0===d||null===(d=d.product_collections)||void 0===d?void 0:d.map((function(t){return t.product_collection_id})))),r.result.product_categories=Object(n.a)(new Set(null===(v=r.result)||void 0===v||null===(v=v.product_categories)||void 0===v?void 0:v.map((function(t){return t.category_id.toString()})))),o.next=14,r.$router.push({path:"/".concat(r.routeName,"/").concat(r.result.id)});case 14:o.next=19;break;case 16:return o.prev=16,o.t0=o.catch(2),o.abrupt("return",r.$nuxt.error(o.t0));case 19:r.videoUploading=!1;case 20:case"end":return o.stop()}}),o,null,[[2,16]])})))()},uploadFile:function(t){var e=arguments,r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var l,c,d,v,data,m,f;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=e.length>1&&void 0!==e[1]?e[1]:null,c=e.length>2&&void 0!==e[2]?e[2]:"photo",r.fileUploading=!0,o.prev=3,d={},t?(v=new FormData,r.fileKeys.forEach((function(i){v.append(i,r.result[i])})),v.append(c,t),d=v):(r.fileKeys.forEach((function(i){d[i]=r.result[i]})),d[c]=l),o.next=8,r.setImageById({id:r.id,params:d,api:r.setImageApi});case 8:if(!(data=o.sent)){o.next=15;break}return r.result=Object.assign({},data),r.result.product_collections=Object(n.a)(new Set(null===(m=r.result)||void 0===m||null===(m=m.product_collections)||void 0===m?void 0:m.map((function(t){return t.product_collection_id})))),r.result.product_categories=Object(n.a)(new Set(null===(f=r.result)||void 0===f||null===(f=f.product_categories)||void 0===f?void 0:f.map((function(t){return t.category_id.toString()})))),o.next=15,r.$router.push({path:"/".concat(r.routeName,"/").concat(r.result.id)});case 15:o.next=20;break;case 17:return o.prev=17,o.t0=o.catch(3),o.abrupt("return",r.$nuxt.error(o.t0));case 20:r.fileUploading=!1;case 21:case"end":return o.stop()}}),o,null,[[3,17]])})))()},editorDescriptionFile:function(t){var e=t.deleted,r=t.file,n=t.Editor,o=t.cursorLocation,l=t.resetUploader;this.editorFile({deleted:e,file:r,Editor:n,cursorLocation:o,resetUploader:l},this.wysiwygType.PRODUCT_DESCRIPTION)},editorOverviewFile:function(t){var e=t.deleted,r=t.file,n=t.Editor,o=t.cursorLocation,l=t.resetUploader;this.editorFile({deleted:e,file:r,Editor:n,cursorLocation:o,resetUploader:l},this.wysiwygType.PRODUCT_OVERVIEW)},editorFile:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,l,c,d,v,m,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.deleted,l=t.file,c=t.Editor,d=t.cursorLocation,v=t.resetUploader,o){n.next=27;break}return r.loading=!0,n.prev=3,m=new FormData,r.result.id?(m.append("overview",r.result.overview),m.append("description",r.result.description),m.append("item_id",r.result.id)):m.append("product",JSON.stringify(r.result)),m.append("type",e),m.append("photo",l),n.next=10,r.setWysiwygImage(m);case 10:if(!(data=n.sent)){n.next=19;break}if(r.result.id){n.next=17;break}return n.next=15,r.$router.push({path:"/".concat(r.routeName,"/").concat(data.item_id)});case 15:n.next=19;break;case 17:c.insertEmbed(d,"image",data.url),v();case 19:n.next=24;break;case 21:return n.prev=21,n.t0=n.catch(3),n.abrupt("return",r.$nuxt.error(n.t0));case 24:r.loading=!1,n.next=37;break;case 27:return r.loading=!0,n.prev=28,n.next=31,r.deleteData({params:r.getImageName(l),api:"deleteWysiwygImage"});case 31:n.next=36;break;case 33:return n.prev=33,n.t1=n.catch(28),n.abrupt("return",r.$nuxt.error(n.t1));case 36:r.loading=!1;case 37:case"end":return n.stop()}}),n,null,[[3,21],[28,33]])})))()}},Object(c.b)("common",["getById","setById","setImageById","getDropdownList","setWysiwygImage","deleteData"])),mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=window.location.hostname).includes("admin.ishop.cholobangla.com")||r.includes("localhost")||r.includes("127.0.0.1")?t.validLicence=!0:t.publicKey&&(t.licence=t.phpDecryption(t.publicKey),n=JSON.parse(t.licence),o=!(null!=n&&n.p)||(null==n?void 0:n.p)&&"ishop"===(null==n?void 0:n.p),t.licence.includes(r)&&o&&(t.validLicence=!0)),t.isAdding){e.next=5;break}return e.next=5,t.fetchingData();case 5:if(t.allCategories&&t.allTaxRules&&t.allAttributes&&t.allBrands&&t.allProductCollections&&t.allBundleDeals&&t.allShippingRules){e.next=16;break}return t.loading=!0,e.prev=7,e.next=10,t.getDropdownList();case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return",t.$nuxt.error(e.t0));case 15:t.loading=!1;case 16:t.searchedCategories=t.allCategories;case 17:case"end":return e.stop()}}),e,null,[[7,12]])})))()}},P=E,R=r(15),component=Object(R.a)(P,(function(){var t,e,r=this,n=r._self._c;return n("div",{staticClass:"product-form"},[r.loading?n("div",{staticClass:"spinner-wrapper"},[n("spinner",{staticClass:"mr-15",attrs:{radius:60,color:"primary"}})],1):r._e(),r._v(" "),n("div",{staticClass:"right-area"},[n("div",{staticClass:"sticky"},[n("div",{staticClass:"tab-sidebar mb-20 mb-lg mb-md-15"},[n("h4",{staticClass:"title"},[n("span",{staticClass:"mr-5"},[r._v(r._s(r.$t("prod.pVideo")))]),r._v(" "),n("span",{staticClass:"fw-400 f-8"},[r._v(r._s(r.$t("prod.maxVid")))])]),r._v(" "),r.$can("product","edit")||r.$can("product","create")?n("div",{staticClass:"form-wrapper"},[n("error-formatter",{attrs:{type:"video"}}),r._v(" "),r.mediaStorageData.URL===r.mediaStorage?n("video-input",{attrs:{saving:r.videoUploading,video:r.result.video,"video-thumb":r.result.video_thumb},on:{"image-change":function(t){return r.uploadVideo(null,t)}}}):n("video-upload",{staticClass:"upload-block",attrs:{video:r.result.video,type:"video","file-uploading":r.videoUploading},on:{"file-upload":r.uploadVideo}})],1):r.$can("product","view")?n("div",{staticClass:"ptb-15 plr-20"},[r.result.video?n("video",{attrs:{controls:"",autoplay:""}},[n("source",{attrs:{src:r.getVideoURL(r.result.video),type:"video/mp4"}})]):n("div",[r._v("\n            "+r._s(r.$t("prod.noVid"))+"\n          ")])]):r.result.video&&r.$can("product","view")?n("video",{attrs:{controls:"",autoplay:""}},[n("source",{attrs:{src:r.getVideoURL(r.result.video),type:"video/mp4"}})]):r._e()]),r._v(" "),n("div",{staticClass:"tab-sidebar mb-20 mlr-lg-15 mlr-md mb-md-15"},[n("h4",{staticClass:"title"},[n("span",{staticClass:"mr-5"},[r._v(r._s(r.$t("prod.pImg")))]),r._v(" "),n("span",{staticClass:"fw-400 f-8"},[r._v(r._s(r.$t("prod.suggImg")))])]),r._v(" "),r.loading?r._e():n("div",[r.$can("product","edit")||r.$can("product","create")?n("div",{staticClass:"form-wrapper upload-block"},[n("error-formatter",{attrs:{type:"image"}}),r._v(" "),r.mediaStorageData.URL===r.mediaStorage?n("image-input",{attrs:{saving:r.fileUploading,image:r.result.image},on:{"image-change":r.imageInputChanged}}):n("file-upload",{staticClass:"upload-block",attrs:{image:r.result.image,"file-uploading":r.fileUploading},on:{"file-upload":r.uploadFile}})],1):r.$can("product","view")?n("img",{staticClass:"mx-w-300x",attrs:{src:r.getImageURL(r.result.image)}}):r._e()])]),r._v(" "),r.isAdding?r._e():n("div",{staticClass:"tab-sidebar mb-md-15"},[n("h4",{staticClass:"title"},[n("span",{staticClass:"mr-5"},[r._v(r._s(r.$t("prod.pImgs")))]),r._v(" "),n("span",{staticClass:"fw-400 f-8"},[r._v(r._s(r.$t("prod.suggImg")))])]),r._v(" "),n("product-images",{attrs:{"product-images":r.result.product_images},on:{result:r.productImages}})],1)])]),r._v(" "),n("div",{ref:"productForm",staticClass:"left-area"},[n("div",{staticClass:"tab-sidebar"},[n("div",[n("div",{staticClass:"dply-felx gap-15 title ptb-5 b-0"},[n("h4",[r._v(r._s(r.$t("prod.pForm")))]),r._v(" "),n("button",{staticClass:"btn-clear dply-felx",on:{click:function(t){t.preventDefault(),r.productFormOpen=!r.productFormOpen}}},[n("i",{staticClass:"icon black ignore-click",class:"".concat(r.productFormOpen?"arrow-up":"arrow-down")})])]),r._v(" "),r.productFormOpen?n("form",{staticClass:"form-wrapper b-t",class:{"has-error":r.hasError},on:{submit:function(t){return t.preventDefault(),r.checkForm.apply(null,arguments)}}},[n("error-formatter"),r._v(" "),n("div",{staticClass:"input-wrapper"},[n("label",[r._v(r._s(r.$t("index.title")))]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.title,expression:"result.title"}],class:{invalid:!r.result.title&&r.hasError},attrs:{type:"text",placeholder:r.$t("index.title")},domProps:{value:r.result.title},on:{change:r.slugChange,input:function(t){t.target.composing||r.$set(r.result,"title",t.target.value)}}}),r._v(" "),!r.result.title&&r.hasError?n("span",{staticClass:"error"},[r._v("\n              "+r._s(r.$t("category.req",{type:r.$t("index.title")}))+"\n            ")]):r._e()]),r._v(" "),n("div",{staticClass:"input-wrapper"},[n("label",[r._v(r._s(r.$t("category.slug")))]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.slug,expression:"result.slug"}],ref:"slug",class:{invalid:!r.result.slug&&r.hasError},attrs:{type:"text",placeholder:r.$t("category.slug"),name:"slug"},domProps:{value:r.result.slug},on:{input:function(t){t.target.composing||r.$set(r.result,"slug",t.target.value)}}}),r._v(" "),!r.result.slug&&r.hasError?n("span",{staticClass:"error"},[r._v("\n              "+r._s(r.$t("category.req",{type:r.$t("category.slug")}))+"\n            ")]):r._e()]),r._v(" "),r._l(r.result.flash_sale_product,(function(t,e){return n("div",{key:e,staticClass:"info-msg mb-20 mb-sm-15"},[n("p",[r._v("\n              "+r._s(r.$t("prod.flash"))+"\n              ("),n("nuxt-link",{staticClass:"link",attrs:{to:"/flash-sales/".concat(t.flash_sale.id)}},[r._v("\n                "+r._s(t.flash_sale.title)+" ")]),r._v(")\n            ")],1),r._v(" "),n("p",[r._v("\n              "+r._s(r.$t("prod.flashPrice"))+":\n              "),n("b",[r._v(r._s(r.priceFormatting(t.price)))])])])})),r._v(" "),n("div",{staticClass:"dply-felx mlr--7-5 inputs"},[n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",[r._v(r._s(r.$t("prod.selling"))+"("+r._s(r.currencyIcon)+")")]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.selling,expression:"result.selling"}],class:{invalid:(r.result.selling<1||!r.result.selling)&&r.hasError},attrs:{type:"number",step:"any",placeholder:r.$t("prod.selling")},domProps:{value:r.result.selling},on:{input:function(t){t.target.composing||r.$set(r.result,"selling",t.target.value)}}}),r._v(" "),(r.result.selling<1||!r.result.selling)&&r.hasError?n("span",{staticClass:"error"},[r._v("\n                "+r._s(r.$t("category.req",{type:r.$t("brand.price")}))+"\n              ")]):r._e()]),r._v(" "),n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",[r._v(r._s(r.$t("prod.offered"))+"("+r._s(r.currencyIcon)+")")]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.offered,expression:"result.offered"}],attrs:{type:"number",step:"any",placeholder:r.$t("prod.offered")},domProps:{value:r.result.offered},on:{input:function(t){t.target.composing||r.$set(r.result,"offered",t.target.value)}}})]),r._v(" "),n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",[r._v(r._s(r.$t("prod.stock")))]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.stock,expression:"result.stock"}],class:{invalid:(r.result.stock<1||!r.result.stock)&&r.hasError},attrs:{type:"number",step:"any",placeholder:r.$t("prod.stock")},domProps:{value:r.result.stock},on:{input:function(t){t.target.composing||r.$set(r.result,"stock",t.target.value)}}}),r._v(" "),(r.result.stock<1||!r.result.stock)&&r.hasError?n("span",{staticClass:"error"},[r._v("\n                "+r._s(r.$t("category.req",{type:r.$t("prod.stock")}))+"\n              ")]):r._e()])]),r._v(" "),n("div",{staticClass:"dply-felx mlr--7-5 inputs"},[n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",[r._v(r._s(r.$t("prod.sku")))]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.sku,expression:"result.sku"}],class:{invalid:(r.result.sku<1||!r.result.sku)&&r.hasError},attrs:{type:"text",step:"any",placeholder:r.$t("prod.sku")},domProps:{value:r.result.sku},on:{input:function(t){t.target.composing||r.$set(r.result,"sku",t.target.value)}}}),r._v(" "),(r.result.sku<1||!r.result.sku)&&r.hasError?n("span",{staticClass:"error"},[r._v("\n                "+r._s(r.$t("category.req",{type:r.$t("prod.sku")}))+"\n              ")]):r._e()]),r._v(" "),n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",[r._v(r._s(r.$t("prod.barcode")))]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.barcode,expression:"result.barcode"}],class:{invalid:(r.result.barcode<1||!r.result.barcode)&&r.hasError},attrs:{type:"text",step:"any",placeholder:r.$t("prod.barcode")},domProps:{value:r.result.barcode},on:{input:function(t){t.target.composing||r.$set(r.result,"barcode",t.target.value)}}}),r._v(" "),(r.result.barcode<1||!r.result.barcode)&&r.hasError?n("span",{staticClass:"error"},[r._v("\n                "+r._s(r.$t("category.req",{type:r.$t("Barcode")}))+"\n              ")]):r._e()]),r._v(" "),n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",[r._v(r._s(r.$t("prod.sItmCode")))]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.supplier_item_code,expression:"result.supplier_item_code"}],attrs:{type:"text",step:"any",placeholder:r.$t("prod.sItmCode")},domProps:{value:r.result.supplier_item_code},on:{input:function(t){t.target.composing||r.$set(r.result,"supplier_item_code",t.target.value)}}})])]),r._v(" "),n("div",{staticClass:"dply-felx inputs pos-rel w-100"},[n("div",{staticClass:"input-wrapper"},[n("label",{staticClass:"block"},[r._v(r._s(r.$t("error.cat")))]),r._v(" "),n("div",{staticClass:"custom-dropdown cp",attrs:{"data-ignore":"multiple-category"},on:{click:function(t){t.preventDefault(),r.showCategories=!r.showCategories}}},[n("span",{staticClass:"ignore-click"},[r._v(r._s(r.$t("title.choose"))+" ("+r._s(r.result.product_categories.length)+")\n                  "),n("i",{staticClass:"icon black ignore-click",class:[{"arrow-up":r.showCategories},{"arrow-down":!r.showCategories}]})])]),r._v(" "),r.showCategories?n("ul",{directives:[{name:"outside-click",rawName:"v-outside-click",value:r.closeDrop,expression:"closeDrop"}],staticClass:"multiple-wrap",attrs:{id:"multiple-category"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:r.categorySearch,expression:"categorySearch"}],staticClass:"mb-10",attrs:{type:"text",placeholder:r.$t("list.sh")},domProps:{value:r.categorySearch},on:{input:[function(t){t.target.composing||(r.categorySearch=t.target.value)},r.doCategorySearch]}}),r._v(" "),r._l(r.searchedCategories,(function(t,e){return n("label",{key:e,attrs:{"label-for":"all-cat-".concat(e)}},[n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.product_categories,expression:"result.product_categories"}],attrs:{id:"all-cat-".concat(e),type:"checkbox"},domProps:{value:e,checked:Array.isArray(r.result.product_categories)?r._i(r.result.product_categories,e)>-1:r.result.product_categories},on:{change:function(t){var n=r.result.product_categories,o=t.target,l=!!o.checked;if(Array.isArray(n)){var c=e,d=r._i(n,c);o.checked?d<0&&r.$set(r.result,"product_categories",n.concat([c])):d>-1&&r.$set(r.result,"product_categories",n.slice(0,d).concat(n.slice(d+1)))}else r.$set(r.result,"product_categories",l)}}}),r._v("\n                  "+r._s(t.title)+"\n                ")])}))],2):r._e()]),r._v(" "),r.selectedCategories?n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",{staticClass:"block"},[r._v(r._s(r.$t("title.prim")))]),r._v(" "),n("dropdown",{staticClass:"left-dd",attrs:{selectedKey:r.result.primary_category_id,options:r.selectedCategories},on:{clicked:r.primaryCategorySelected}})],1):r._e()]),r._v(" "),n("div",{staticClass:"dply-felx inputs mlr--7-5"},[n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",[r._v(r._s(r.$t("prod.unit")))]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.unit,expression:"result.unit"}],class:{invalid:!r.result.unit&&r.hasError},attrs:{type:"text",placeholder:r.$t("prod.unit")},domProps:{value:r.result.unit},on:{input:function(t){t.target.composing||r.$set(r.result,"unit",t.target.value)}}}),r._v(" "),!r.result.unit&&r.hasError?n("span",{staticClass:"error"},[r._v("\n                "+r._s(r.$t("category.req",{type:r.$t("prod.unit")}))+"\n              ")]):r._e()]),r._v(" "),n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",[r._v(r._s(r.$t("prod.badge")))]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.badge,expression:"result.badge"}],attrs:{type:"text",placeholder:r.$t("prod.badge")},domProps:{value:r.result.badge},on:{input:function(t){t.target.composing||r.$set(r.result,"badge",t.target.value)}}})])]),r._v(" "),n("div",{staticClass:"input-wrapper",class:{"whysigwyg-error":!r.result.overview&&r.hasError}},[n("WYSIWYGEditor",{attrs:{title:r.$t("prod.overview"),description:r.result.overview},on:{change:function(t){r.result.overview=t},file:r.editorOverviewFile}}),r._v(" "),!r.result.overview&&r.hasError?n("span",{staticClass:"error"},[r._v("\n              "+r._s(r.$t("category.req",{type:r.$t("prod.overview")}))+"\n            ")]):r._e()],1),r._v(" "),n("div",{staticClass:"input-wrapper",class:{"whysigwyg-error":!r.result.description&&r.hasError}},[n("WYSIWYGEditor",{attrs:{description:r.result.description},on:{change:function(t){r.result.description=t},file:r.editorDescriptionFile}}),r._v(" "),!r.result.description&&r.hasError?n("span",{staticClass:"error"},[r._v("\n              "+r._s(r.$t("category.req",{type:r.$t("prod.desc")}))+"\n            ")]):r._e()],1),r._v(" "),n("div",{staticClass:"dply-felx inputs mlr--7-5"},[n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",{staticClass:"block"},[r._v(r._s(r.$t("category.status")))]),r._v(" "),n("dropdown",{attrs:{selectedKey:"".concat(r.result.status),options:r.statusObj},on:{clicked:r.dropdownSelected}})],1),r._v(" "),n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",{staticClass:"block"},[r._v(r._s(r.$t("prod.brand")))]),r._v(" "),r.allBrands?n("dropdown",{attrs:{"default-null":!0,selectedKey:r.result.brand_id,options:r.allBrands},on:{clicked:r.brandSelected}}):r._e()],1)]),r._v(" "),n("div",{staticClass:"input-wrapper"},[n("label",[r._v(r._s(r.$t("prod.tags")))]),r._v(" "),n("tag-search",{attrs:{tags:r.result.tags},on:{add:r.addTag,delete:r.deleteTag}})],1),r._v(" "),n("div",{staticClass:"f-wrap dply-felx inputs mlr--7-5"},[n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",{staticClass:"block"},[r._v(r._s(r.$t("prod.tRule")))]),r._v(" "),r.allTaxRules?n("dropdown",{attrs:{selectedKey:r.result.tax_rule_id,options:r.allTaxRules},on:{clicked:r.taxRuleSelected}}):r._e(),r._v(" "),!r.result.tax_rule_id&&r.hasError?n("span",{staticClass:"error"},[r._v("\n                "+r._s(r.$t("category.req",{type:r.$t("brand.tRule")}))+"\n              ")]):r._e()],1),r._v(" "),n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",{staticClass:"block"},[r._v(r._s(r.$t("dataPage.shipRule")))]),r._v(" "),r.allShippingRules?n("dropdown",{attrs:{selectedKey:r.result.shipping_rule_id,options:r.allShippingRules},on:{clicked:r.shippingRuleSelected}}):r._e(),r._v(" "),!r.result.shipping_rule_id&&r.hasError?n("span",{staticClass:"error"},[r._v("\n                "+r._s(r.$t("category.req",{type:r.$t("brand.shipRule")}))+"\n              ")]):r._e()],1),r._v(" "),n("div",{staticClass:"input-wrapper mlr-7-5"},[n("label",{staticClass:"block"},[r._v(r._s(r.$t("profile.dleDeal")))]),r._v(" "),r.allBundleDeals?n("dropdown",{attrs:{"default-null":!0,selectedKey:r.result.bundle_deal_id,options:r.allBundleDeals},on:{clicked:r.bundleDealSelected}}):r._e()],1)]),r._v(" "),n("div",{staticClass:"mb-10 mb-sm-5 cb-wrapper"},[n("span",{staticClass:"block mb-10"},[r._v(r._s(r.$t("dataPage.prodCol")))]),r._v(" "),r._l(r.allProductCollections,(function(t,e){return n("label",{key:e,staticClass:"mr-15 mb-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.product_collections,expression:"result.product_collections"}],attrs:{type:"checkbox"},domProps:{value:t.id,checked:Array.isArray(r.result.product_collections)?r._i(r.result.product_collections,t.id)>-1:r.result.product_collections},on:{change:function(e){var n=r.result.product_collections,o=e.target,l=!!o.checked;if(Array.isArray(n)){var c=t.id,d=r._i(n,c);o.checked?d<0&&r.$set(r.result,"product_collections",n.concat([c])):d>-1&&r.$set(r.result,"product_collections",n.slice(0,d).concat(n.slice(d+1)))}else r.$set(r.result,"product_collections",l)}}}),r._v("\n              "+r._s(t.title)+"\n            ")])}))],2),r._v(" "),n("div",{staticClass:"mb-20 mb-sm-15 cb-wrapper"},[n("span",{staticClass:"block mb-10"},[r._v("\n              "+r._s(r.$t("prod.pInfo"))+"\n            ")]),r._v(" "),n("p",[n("label",{staticClass:"mr-15"},[r._v("\n                "+r._s(r.$t("prod.refund"))+"\n              ")]),r._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.refundable,expression:"result.refundable"}],attrs:{type:"radio",name:"refundable",value:"1"},domProps:{checked:r._q(r.result.refundable,"1")},on:{change:function(t){return r.$set(r.result,"refundable","1")}}}),r._v("\n                "+r._s(r.$t("prod.yes"))+"\n              ")]),r._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.refundable,expression:"result.refundable"}],attrs:{type:"radio",name:"refundable",value:"2"},domProps:{checked:r._q(r.result.refundable,"2")},on:{change:function(t){return r.$set(r.result,"refundable","2")}}}),r._v("\n                "+r._s(r.$t("prod.no"))+"\n              ")])]),r._v(" "),n("p",[n("label",{staticClass:"mr-15"},[r._v("\n                "+r._s(r.$t("prod.warranty"))+"\n              ")]),r._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.warranty,expression:"result.warranty"}],attrs:{type:"radio",name:"warranty",value:"1"},domProps:{checked:r._q(r.result.warranty,"1")},on:{change:function(t){return r.$set(r.result,"warranty","1")}}}),r._v("\n                "+r._s(r.$t("prod.yes"))+"\n              ")]),r._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.warranty,expression:"result.warranty"}],attrs:{type:"radio",name:"warranty",value:"2"},domProps:{checked:r._q(r.result.warranty,"2")},on:{change:function(t){return r.$set(r.result,"warranty","2")}}}),r._v("\n                "+r._s(r.$t("prod.no"))+"\n              ")])])]),r._v(" "),n("div",{staticClass:"input-wrapper"},[n("label",[r._v(r._s(r.$t("category.mTitle")))]),r._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:r.result.meta_title,expression:"result.meta_title"}],class:{invalid:!r.result.meta_title&&r.hasError},attrs:{type:"text",placeholder:r.$t("category.mTitle")},domProps:{value:r.result.meta_title},on:{input:function(t){t.target.composing||r.$set(r.result,"meta_title",t.target.value)}}}),r._v(" "),!r.result.meta_title&&r.hasError?n("span",{staticClass:"error"},[r._v("\n              "+r._s(r.$t("category.req",{type:r.$t("category.mTitle")}))+"\n            ")]):r._e()]),r._v(" "),n("div",{staticClass:"input-wrapper"},[n("label",[r._v(r._s(r.$t("ship.mk"))+" ("+r._s(r.$t("ship.csk"))+")")]),r._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:r.result.meta_keywords,expression:"result.meta_keywords"}],class:{invalid:!r.result.meta_keywords&&r.hasError},attrs:{placeholder:r.$t("ship.mk")},domProps:{value:r.result.meta_keywords},on:{input:function(t){t.target.composing||r.$set(r.result,"meta_keywords",t.target.value)}}}),r._v(" "),!r.result.meta_keywords&&r.hasError?n("span",{staticClass:"error"},[r._v("\n              "+r._s(r.$t("category.req",{type:r.$t("ship.mk")}))+"\n            ")]):r._e()]),r._v(" "),n("div",{staticClass:"input-wrapper"},[n("label",[r._v(r._s(r.$t("category.mDesc")))]),r._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:r.result.meta_description,expression:"result.meta_description"}],class:{invalid:!r.result.meta_description&&r.hasError},attrs:{placeholder:r.$t("category.mDesc")},domProps:{value:r.result.meta_description},on:{input:function(t){t.target.composing||r.$set(r.result,"meta_description",t.target.value)}}}),r._v(" "),!r.result.meta_description&&r.hasError?n("span",{staticClass:"error"},[r._v("\n              "+r._s(r.$t("category.req",{type:r.$t("category.mDesc")}))+"\n            ")]):r._e()]),r._v(" "),r.loading?r._e():n("div",{staticStyle:{"padding-bottom":"20px"}},[n("h4",{staticClass:"title",staticStyle:{"padding-left":"0","border-bottom":"0"}},[r._v("\n              Banner\n            ")]),r._v(" "),r.$can("product","edit")||r.$can("product","create")?n("div",[r.mediaStorageData.URL===r.mediaStorage?n("image-input",{attrs:{saving:r.fileUploading,image:null===(t=r.result)||void 0===t?void 0:t.banner_image},on:{"image-change":function(t){return r.uploadFile(null,t,null,"banner")}}}):n("file-upload",{staticClass:"upload-block",attrs:{image:null===(e=r.result)||void 0===e?void 0:e.banner_image,"file-uploading":r.fileUploading,imageContainerStyle:{height:"300px"}},on:{"file-upload":function(t){return r.uploadFile(t,null,"banner")}}})],1):r.$can("product","view")?n("img",{staticClass:"mx-w-300x",attrs:{src:r.getImageURL(r.result.image)}}):r._e()]),r._v(" "),r.validLicence&&(r.$can("product","edit")||r.$can("product","create"))?n("div",{staticClass:"dply-felx j-right gap-15"},[n("ajax-button",{staticClass:"primary-btn",attrs:{name:"save-edit",text:r.$t("list.svn"),"fetching-data":r.formSubmitting&&!r.redirect}}),r._v(" "),n("ajax-button",{staticClass:"primary-btn",attrs:{name:"save",text:r.$t("setting.sv"),"fetching-data":r.formSubmitting&&r.redirect}})],1):r._e()],2):r._e()])]),r._v(" "),r.isAdding?r._e():n("div",{ref:"productInventory",staticClass:"tab-sidebar mt-15"},[r.currentPrice?n("product-inventory",{attrs:{attributes:r.allAttributes,"product-price":parseFloat(r.currentPrice)},on:{"has-error":function(t){return r.scrollToTop("productInventory")}}}):r._e()],1)])])}),[],!1,null,"3c84ae14",null);e.default=component.exports;installComponents(component,{Spinner:r(49).default,ErrorFormatter:r(465).default,VideoInput:r(723).default,VideoUpload:r(722).default,ImageInput:r(491).default,FileUpload:r(476).default,Dropdown:r(159).default,WYSIWYGEditor:r(496).default,TagSearch:r(495).default,AjaxButton:r(158).default})}}]);